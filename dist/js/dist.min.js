!function(){"use strict";angular.module("smartTree",["ngRoute","treeControl"])}(),function(){"use strict";function e(e){e.when("/",{templateUrl:"src/view/arvore-show.view.html",controller:"arvore.controller",controllerAs:"controller"}),e.otherwise({redirectTo:"/"})}angular.module("smartTree").config(e),e.$inject=["$routeProvider"]}(),function(){"use strict";function e(e,o,c,a){$(document).ready(function(){$("body").tooltip({selector:"[data-toggle='tooltip']",container:"body"}).popover({selector:"[data-toggle='popover']",container:"body",trigger:"hover",html:!0})}),$("#success-alert").fadeTo(2e3,500).slideUp(500,function(){$("#success-alert").slideUp(500)});var d=this;d.treeOptions={nodeChildren:"children",dirSelectable:!0,injectClasses:{ul:"a1",li:"a2",liSelected:"a7",iExpanded:"a3",iCollapsed:"a4",iLeaf:"a5",label:"a6",labelSelected:"a8"}},o.carregaAdd=function(e){if(d.clothing=[],void 0!=o.selected){var c;c=void 0!=o.selected.children?o.selected.children.length+1:"1",d.clothing.codigo=o.selected.codigo.toString()+"."+c.toString()}else d.clothing.codigo=o.clothings.length+1},o.addProduct=function(e){var c=void 0!=e.$$hashKey?angular.copy(e):e,a={codigo:c.codigo,descricao:c.descricao,observacao:c.observacao,children:[]};void 0!=o.selected?(o.selected.children.push(a),o.expandedNodes.push(o.selected)):(o.clothings.push(a),o.expandedNodes.push(o.clothings)),delete d.clothing},o.carregaEdit=function(e){d.clothing=[],d.clothing.codigo=e.codigo,d.clothing.descricao=e.descricao,d.clothing.observacao=e.observacao,d.clothing.children=e.children},o.cancelEdit=function(e){delete e.clothing},o.editProduct=function(e){var a=e,s={codigo:a.codigo,descricao:a.descricao,observacao:a.observacao,children:o.selected.children,$$hashKey:o.selected.$$hashKey};if(o.selected){$("treecontrol:first").html(c('<treecontrol class="tree-light"tree-model="clothings"options="treeOptions"on-selection="showSelected(node, $parentNode)"expanded-nodes="expandedNodes"filter-expression="predicate"selected-node="selected"><span data-toggle="popover"data-placement="right"data-content="<b>Código:</b> {{node.codigo}} <br /><b>Descrição:</b> {{node.descricao}} <br /><b>Observação:</b> {{node.observacao}}">{{node.descricao}} </div></treecontrol>')(o));if(void 0==o.$parentNode)for(var r=0;r<o.clothings.length;r++){var i=o.clothings[r];if(i.$$hashKey==o.selected.$$hashKey){o.clothings[r]=s,o.selected=void 0;break}}else for(var r=0;r<o.$parentNode.children.length;r++){var i=o.$parentNode.children[r];if(i.$$hashKey==o.selected.$$hashKey){o.$parentNode.children[r]=s,o.selected=void 0;break}}}delete d.clothing},o.buttonClick=function(e,c){o.lastClicked=c,e.stopPropagation()},o.iAmNotYourFather=function(){o.selected=void 0},o.clothings=[{codigo:"1",descricao:"Campos Confecções",observacao:"Todas confeções de nossa empresa",children:[{codigo:"1.1",descricao:"Bermudas",observacao:"Todas bermudas de nossa empresa",children:[]},{codigo:"1.2",descricao:"Calças",observacao:"Todas calças de nossa empresa",children:[{codigo:"1.2.1",descricao:"Sarja (m)",observacao:"Todas calças sarja de nossa empresa",children:[]},{codigo:"1.2.2",descricao:"Social",observacao:"Todas calças sociais de nossa empresa",children:[]}]},{codigo:"1.3",descricao:"Camisas",observacao:"Todas camisas de nossa empresa",children:[{codigo:"1.3.1",descricao:"Esporte",observacao:"Todas camisas esporte de nossa empresa",children:[]},{codigo:"1.3.2",descricao:"Gola Polo",observacao:"Todas camisas Gola Polo de nossa empresa",children:[]},{codigo:"1.3.3",descricao:"Grife",observacao:"Todas camisas de grife de nossa empresa",children:[{codigo:"1.3.3.1",descricao:"BOSS",observacao:"Todas camisas BOSS de nossa empresa",children:[]}]},{codigo:"1.3.4",descricao:"Social",observacao:"Todas camisas sociais de nossa empresa",children:[]}]},{codigo:"1.4",descricao:"Terno",observacao:"Todos ternos de nossa empresa",children:[]}]}],o.expandAll=function(){d.allNodes=[],d.addToAllNodes=function(e){if(e&&("array"!=typeof e||0!=e.length))for(var o=0;o<e.length;o++)e[o].children.length>0&&(d.allNodes.push(e[o]),d.addToAllNodes(e[o].children))},d.addToAllNodes(o.clothings),o.expandedNodes=d.allNodes},o.collapseAll=function(){o.expandedNodes=[]},o.removeProduct=function(){if(void 0==o.$parentNode)for(var e=0;e<o.clothings.length;e++){var c=o.clothings[e];if(c.descricao==o.selected.descricao){o.clothings.splice(e,1),o.selected=void 0;break}}else for(var e=0;e<o.$parentNode.children.length;e++){var c=o.$parentNode.children[e];if(c.descricao==o.selected.descricao){o.$parentNode.children.splice(e,1),o.selected=void 0;break}}},o.showSelected=function(e,c){o.$parentNode=c},o.$watch("predicate",function(e){e&&e.length>1?o.expandAll():o.expandedItems=[]})}angular.module("smartTree").controller("arvore.controller",e),e.$inject=["$rootScope","$scope","$compile","$interpolate"]}();